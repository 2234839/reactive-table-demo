{"version":3,"file":"cssMode.dff069a2.js","sources":["../../node_modules/monaco-editor/esm/vs/language/css/workerManager.js","../../node_modules/monaco-editor/esm/vs/language/css/languageFeatures.js","../../node_modules/monaco-editor/esm/vs/language/css/cssMode.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { editor } from './fillers/monaco-editor-core.js';\r\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\r\nvar WorkerManager = /** @class */ (function () {\r\n    function WorkerManager(defaults) {\r\n        var _this = this;\r\n        this._defaults = defaults;\r\n        this._worker = null;\r\n        this._idleCheckInterval = window.setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\r\n        this._lastUsedTime = 0;\r\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\r\n    }\r\n    WorkerManager.prototype._stopWorker = function () {\r\n        if (this._worker) {\r\n            this._worker.dispose();\r\n            this._worker = null;\r\n        }\r\n        this._client = null;\r\n    };\r\n    WorkerManager.prototype.dispose = function () {\r\n        clearInterval(this._idleCheckInterval);\r\n        this._configChangeListener.dispose();\r\n        this._stopWorker();\r\n    };\r\n    WorkerManager.prototype._checkIfIdle = function () {\r\n        if (!this._worker) {\r\n            return;\r\n        }\r\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\r\n        if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\r\n            this._stopWorker();\r\n        }\r\n    };\r\n    WorkerManager.prototype._getClient = function () {\r\n        this._lastUsedTime = Date.now();\r\n        if (!this._client) {\r\n            this._worker = editor.createWebWorker({\r\n                // module that exports the create() method and returns a `CSSWorker` instance\r\n                moduleId: 'vs/language/css/cssWorker',\r\n                label: this._defaults.languageId,\r\n                // passed in to the create() method\r\n                createData: {\r\n                    languageSettings: this._defaults.diagnosticsOptions,\r\n                    languageId: this._defaults.languageId\r\n                }\r\n            });\r\n            this._client = this._worker.getProxy();\r\n        }\r\n        return this._client;\r\n    };\r\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\r\n        var _this = this;\r\n        var resources = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            resources[_i] = arguments[_i];\r\n        }\r\n        var _client;\r\n        return this._getClient()\r\n            .then(function (client) {\r\n            _client = client;\r\n        })\r\n            .then(function (_) {\r\n            return _this._worker.withSyncedResources(resources);\r\n        })\r\n            .then(function (_) { return _client; });\r\n    };\r\n    return WorkerManager;\r\n}());\r\nexport { WorkerManager };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as cssService from './_deps/vscode-css-languageservice/cssLanguageService.js';\r\nimport { languages, editor, Uri, Range, MarkerSeverity } from './fillers/monaco-editor-core.js';\r\n// --- diagnostics --- ---\r\nvar DiagnosticsAdapter = /** @class */ (function () {\r\n    function DiagnosticsAdapter(_languageId, _worker, defaults) {\r\n        var _this = this;\r\n        this._languageId = _languageId;\r\n        this._worker = _worker;\r\n        this._disposables = [];\r\n        this._listener = Object.create(null);\r\n        var onModelAdd = function (model) {\r\n            var modeId = model.getModeId();\r\n            if (modeId !== _this._languageId) {\r\n                return;\r\n            }\r\n            var handle;\r\n            _this._listener[model.uri.toString()] = model.onDidChangeContent(function () {\r\n                window.clearTimeout(handle);\r\n                handle = window.setTimeout(function () { return _this._doValidate(model.uri, modeId); }, 500);\r\n            });\r\n            _this._doValidate(model.uri, modeId);\r\n        };\r\n        var onModelRemoved = function (model) {\r\n            editor.setModelMarkers(model, _this._languageId, []);\r\n            var uriStr = model.uri.toString();\r\n            var listener = _this._listener[uriStr];\r\n            if (listener) {\r\n                listener.dispose();\r\n                delete _this._listener[uriStr];\r\n            }\r\n        };\r\n        this._disposables.push(editor.onDidCreateModel(onModelAdd));\r\n        this._disposables.push(editor.onWillDisposeModel(onModelRemoved));\r\n        this._disposables.push(editor.onDidChangeModelLanguage(function (event) {\r\n            onModelRemoved(event.model);\r\n            onModelAdd(event.model);\r\n        }));\r\n        defaults.onDidChange(function (_) {\r\n            editor.getModels().forEach(function (model) {\r\n                if (model.getModeId() === _this._languageId) {\r\n                    onModelRemoved(model);\r\n                    onModelAdd(model);\r\n                }\r\n            });\r\n        });\r\n        this._disposables.push({\r\n            dispose: function () {\r\n                for (var key in _this._listener) {\r\n                    _this._listener[key].dispose();\r\n                }\r\n            }\r\n        });\r\n        editor.getModels().forEach(onModelAdd);\r\n    }\r\n    DiagnosticsAdapter.prototype.dispose = function () {\r\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\r\n        this._disposables = [];\r\n    };\r\n    DiagnosticsAdapter.prototype._doValidate = function (resource, languageId) {\r\n        this._worker(resource)\r\n            .then(function (worker) {\r\n            return worker.doValidation(resource.toString());\r\n        })\r\n            .then(function (diagnostics) {\r\n            var markers = diagnostics.map(function (d) { return toDiagnostics(resource, d); });\r\n            var model = editor.getModel(resource);\r\n            if (model && model.getModeId() === languageId) {\r\n                editor.setModelMarkers(model, languageId, markers);\r\n            }\r\n        })\r\n            .then(undefined, function (err) {\r\n            console.error(err);\r\n        });\r\n    };\r\n    return DiagnosticsAdapter;\r\n}());\r\nexport { DiagnosticsAdapter };\r\nfunction toSeverity(lsSeverity) {\r\n    switch (lsSeverity) {\r\n        case cssService.DiagnosticSeverity.Error:\r\n            return MarkerSeverity.Error;\r\n        case cssService.DiagnosticSeverity.Warning:\r\n            return MarkerSeverity.Warning;\r\n        case cssService.DiagnosticSeverity.Information:\r\n            return MarkerSeverity.Info;\r\n        case cssService.DiagnosticSeverity.Hint:\r\n            return MarkerSeverity.Hint;\r\n        default:\r\n            return MarkerSeverity.Info;\r\n    }\r\n}\r\nfunction toDiagnostics(resource, diag) {\r\n    var code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\r\n    return {\r\n        severity: toSeverity(diag.severity),\r\n        startLineNumber: diag.range.start.line + 1,\r\n        startColumn: diag.range.start.character + 1,\r\n        endLineNumber: diag.range.end.line + 1,\r\n        endColumn: diag.range.end.character + 1,\r\n        message: diag.message,\r\n        code: code,\r\n        source: diag.source\r\n    };\r\n}\r\n// --- completion ------\r\nfunction fromPosition(position) {\r\n    if (!position) {\r\n        return void 0;\r\n    }\r\n    return { character: position.column - 1, line: position.lineNumber - 1 };\r\n}\r\nfunction fromRange(range) {\r\n    if (!range) {\r\n        return void 0;\r\n    }\r\n    return {\r\n        start: {\r\n            line: range.startLineNumber - 1,\r\n            character: range.startColumn - 1\r\n        },\r\n        end: { line: range.endLineNumber - 1, character: range.endColumn - 1 }\r\n    };\r\n}\r\nfunction toRange(range) {\r\n    if (!range) {\r\n        return void 0;\r\n    }\r\n    return new Range(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\r\n}\r\nfunction isInsertReplaceEdit(edit) {\r\n    return (typeof edit.insert !== 'undefined' &&\r\n        typeof edit.replace !== 'undefined');\r\n}\r\nfunction toCompletionItemKind(kind) {\r\n    var mItemKind = languages.CompletionItemKind;\r\n    switch (kind) {\r\n        case cssService.CompletionItemKind.Text:\r\n            return mItemKind.Text;\r\n        case cssService.CompletionItemKind.Method:\r\n            return mItemKind.Method;\r\n        case cssService.CompletionItemKind.Function:\r\n            return mItemKind.Function;\r\n        case cssService.CompletionItemKind.Constructor:\r\n            return mItemKind.Constructor;\r\n        case cssService.CompletionItemKind.Field:\r\n            return mItemKind.Field;\r\n        case cssService.CompletionItemKind.Variable:\r\n            return mItemKind.Variable;\r\n        case cssService.CompletionItemKind.Class:\r\n            return mItemKind.Class;\r\n        case cssService.CompletionItemKind.Interface:\r\n            return mItemKind.Interface;\r\n        case cssService.CompletionItemKind.Module:\r\n            return mItemKind.Module;\r\n        case cssService.CompletionItemKind.Property:\r\n            return mItemKind.Property;\r\n        case cssService.CompletionItemKind.Unit:\r\n            return mItemKind.Unit;\r\n        case cssService.CompletionItemKind.Value:\r\n            return mItemKind.Value;\r\n        case cssService.CompletionItemKind.Enum:\r\n            return mItemKind.Enum;\r\n        case cssService.CompletionItemKind.Keyword:\r\n            return mItemKind.Keyword;\r\n        case cssService.CompletionItemKind.Snippet:\r\n            return mItemKind.Snippet;\r\n        case cssService.CompletionItemKind.Color:\r\n            return mItemKind.Color;\r\n        case cssService.CompletionItemKind.File:\r\n            return mItemKind.File;\r\n        case cssService.CompletionItemKind.Reference:\r\n            return mItemKind.Reference;\r\n    }\r\n    return mItemKind.Property;\r\n}\r\nfunction toTextEdit(textEdit) {\r\n    if (!textEdit) {\r\n        return void 0;\r\n    }\r\n    return {\r\n        range: toRange(textEdit.range),\r\n        text: textEdit.newText\r\n    };\r\n}\r\nvar CompletionAdapter = /** @class */ (function () {\r\n    function CompletionAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    Object.defineProperty(CompletionAdapter.prototype, \"triggerCharacters\", {\r\n        get: function () {\r\n            return [' ', ':'];\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    CompletionAdapter.prototype.provideCompletionItems = function (model, position, context, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource)\r\n            .then(function (worker) {\r\n            return worker.doComplete(resource.toString(), fromPosition(position));\r\n        })\r\n            .then(function (info) {\r\n            if (!info) {\r\n                return;\r\n            }\r\n            var wordInfo = model.getWordUntilPosition(position);\r\n            var wordRange = new Range(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\r\n            var items = info.items.map(function (entry) {\r\n                var item = {\r\n                    label: entry.label,\r\n                    insertText: entry.insertText || entry.label,\r\n                    sortText: entry.sortText,\r\n                    filterText: entry.filterText,\r\n                    documentation: entry.documentation,\r\n                    detail: entry.detail,\r\n                    range: wordRange,\r\n                    kind: toCompletionItemKind(entry.kind)\r\n                };\r\n                if (entry.textEdit) {\r\n                    if (isInsertReplaceEdit(entry.textEdit)) {\r\n                        item.range = {\r\n                            insert: toRange(entry.textEdit.insert),\r\n                            replace: toRange(entry.textEdit.replace)\r\n                        };\r\n                    }\r\n                    else {\r\n                        item.range = toRange(entry.textEdit.range);\r\n                    }\r\n                    item.insertText = entry.textEdit.newText;\r\n                }\r\n                if (entry.additionalTextEdits) {\r\n                    item.additionalTextEdits = entry.additionalTextEdits.map(toTextEdit);\r\n                }\r\n                if (entry.insertTextFormat === cssService.InsertTextFormat.Snippet) {\r\n                    item.insertTextRules = languages.CompletionItemInsertTextRule.InsertAsSnippet;\r\n                }\r\n                return item;\r\n            });\r\n            return {\r\n                isIncomplete: info.isIncomplete,\r\n                suggestions: items\r\n            };\r\n        });\r\n    };\r\n    return CompletionAdapter;\r\n}());\r\nexport { CompletionAdapter };\r\nfunction isMarkupContent(thing) {\r\n    return (thing && typeof thing === 'object' && typeof thing.kind === 'string');\r\n}\r\nfunction toMarkdownString(entry) {\r\n    if (typeof entry === 'string') {\r\n        return {\r\n            value: entry\r\n        };\r\n    }\r\n    if (isMarkupContent(entry)) {\r\n        if (entry.kind === 'plaintext') {\r\n            return {\r\n                value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\r\n            };\r\n        }\r\n        return {\r\n            value: entry.value\r\n        };\r\n    }\r\n    return { value: '```' + entry.language + '\\n' + entry.value + '\\n```\\n' };\r\n}\r\nfunction toMarkedStringArray(contents) {\r\n    if (!contents) {\r\n        return void 0;\r\n    }\r\n    if (Array.isArray(contents)) {\r\n        return contents.map(toMarkdownString);\r\n    }\r\n    return [toMarkdownString(contents)];\r\n}\r\n// --- hover ------\r\nvar HoverAdapter = /** @class */ (function () {\r\n    function HoverAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    HoverAdapter.prototype.provideHover = function (model, position, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource)\r\n            .then(function (worker) {\r\n            return worker.doHover(resource.toString(), fromPosition(position));\r\n        })\r\n            .then(function (info) {\r\n            if (!info) {\r\n                return;\r\n            }\r\n            return {\r\n                range: toRange(info.range),\r\n                contents: toMarkedStringArray(info.contents)\r\n            };\r\n        });\r\n    };\r\n    return HoverAdapter;\r\n}());\r\nexport { HoverAdapter };\r\n// --- document highlights ------\r\nfunction toDocumentHighlightKind(kind) {\r\n    switch (kind) {\r\n        case cssService.DocumentHighlightKind.Read:\r\n            return languages.DocumentHighlightKind.Read;\r\n        case cssService.DocumentHighlightKind.Write:\r\n            return languages.DocumentHighlightKind.Write;\r\n        case cssService.DocumentHighlightKind.Text:\r\n            return languages.DocumentHighlightKind.Text;\r\n    }\r\n    return languages.DocumentHighlightKind.Text;\r\n}\r\nvar DocumentHighlightAdapter = /** @class */ (function () {\r\n    function DocumentHighlightAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentHighlightAdapter.prototype.provideDocumentHighlights = function (model, position, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource)\r\n            .then(function (worker) {\r\n            return worker.findDocumentHighlights(resource.toString(), fromPosition(position));\r\n        })\r\n            .then(function (entries) {\r\n            if (!entries) {\r\n                return;\r\n            }\r\n            return entries.map(function (entry) {\r\n                return {\r\n                    range: toRange(entry.range),\r\n                    kind: toDocumentHighlightKind(entry.kind)\r\n                };\r\n            });\r\n        });\r\n    };\r\n    return DocumentHighlightAdapter;\r\n}());\r\nexport { DocumentHighlightAdapter };\r\n// --- definition ------\r\nfunction toLocation(location) {\r\n    return {\r\n        uri: Uri.parse(location.uri),\r\n        range: toRange(location.range)\r\n    };\r\n}\r\nvar DefinitionAdapter = /** @class */ (function () {\r\n    function DefinitionAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DefinitionAdapter.prototype.provideDefinition = function (model, position, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource)\r\n            .then(function (worker) {\r\n            return worker.findDefinition(resource.toString(), fromPosition(position));\r\n        })\r\n            .then(function (definition) {\r\n            if (!definition) {\r\n                return;\r\n            }\r\n            return [toLocation(definition)];\r\n        });\r\n    };\r\n    return DefinitionAdapter;\r\n}());\r\nexport { DefinitionAdapter };\r\n// --- references ------\r\nvar ReferenceAdapter = /** @class */ (function () {\r\n    function ReferenceAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    ReferenceAdapter.prototype.provideReferences = function (model, position, context, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource)\r\n            .then(function (worker) {\r\n            return worker.findReferences(resource.toString(), fromPosition(position));\r\n        })\r\n            .then(function (entries) {\r\n            if (!entries) {\r\n                return;\r\n            }\r\n            return entries.map(toLocation);\r\n        });\r\n    };\r\n    return ReferenceAdapter;\r\n}());\r\nexport { ReferenceAdapter };\r\n// --- rename ------\r\nfunction toWorkspaceEdit(edit) {\r\n    if (!edit || !edit.changes) {\r\n        return void 0;\r\n    }\r\n    var resourceEdits = [];\r\n    for (var uri in edit.changes) {\r\n        var _uri = Uri.parse(uri);\r\n        // let edits: languages.TextEdit[] = [];\r\n        for (var _i = 0, _a = edit.changes[uri]; _i < _a.length; _i++) {\r\n            var e = _a[_i];\r\n            resourceEdits.push({\r\n                resource: _uri,\r\n                edit: {\r\n                    range: toRange(e.range),\r\n                    text: e.newText\r\n                }\r\n            });\r\n        }\r\n    }\r\n    return {\r\n        edits: resourceEdits\r\n    };\r\n}\r\nvar RenameAdapter = /** @class */ (function () {\r\n    function RenameAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    RenameAdapter.prototype.provideRenameEdits = function (model, position, newName, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource)\r\n            .then(function (worker) {\r\n            return worker.doRename(resource.toString(), fromPosition(position), newName);\r\n        })\r\n            .then(function (edit) {\r\n            return toWorkspaceEdit(edit);\r\n        });\r\n    };\r\n    return RenameAdapter;\r\n}());\r\nexport { RenameAdapter };\r\n// --- document symbols ------\r\nfunction toSymbolKind(kind) {\r\n    var mKind = languages.SymbolKind;\r\n    switch (kind) {\r\n        case cssService.SymbolKind.File:\r\n            return mKind.Array;\r\n        case cssService.SymbolKind.Module:\r\n            return mKind.Module;\r\n        case cssService.SymbolKind.Namespace:\r\n            return mKind.Namespace;\r\n        case cssService.SymbolKind.Package:\r\n            return mKind.Package;\r\n        case cssService.SymbolKind.Class:\r\n            return mKind.Class;\r\n        case cssService.SymbolKind.Method:\r\n            return mKind.Method;\r\n        case cssService.SymbolKind.Property:\r\n            return mKind.Property;\r\n        case cssService.SymbolKind.Field:\r\n            return mKind.Field;\r\n        case cssService.SymbolKind.Constructor:\r\n            return mKind.Constructor;\r\n        case cssService.SymbolKind.Enum:\r\n            return mKind.Enum;\r\n        case cssService.SymbolKind.Interface:\r\n            return mKind.Interface;\r\n        case cssService.SymbolKind.Function:\r\n            return mKind.Function;\r\n        case cssService.SymbolKind.Variable:\r\n            return mKind.Variable;\r\n        case cssService.SymbolKind.Constant:\r\n            return mKind.Constant;\r\n        case cssService.SymbolKind.String:\r\n            return mKind.String;\r\n        case cssService.SymbolKind.Number:\r\n            return mKind.Number;\r\n        case cssService.SymbolKind.Boolean:\r\n            return mKind.Boolean;\r\n        case cssService.SymbolKind.Array:\r\n            return mKind.Array;\r\n    }\r\n    return mKind.Function;\r\n}\r\nvar DocumentSymbolAdapter = /** @class */ (function () {\r\n    function DocumentSymbolAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentSymbolAdapter.prototype.provideDocumentSymbols = function (model, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource)\r\n            .then(function (worker) { return worker.findDocumentSymbols(resource.toString()); })\r\n            .then(function (items) {\r\n            if (!items) {\r\n                return;\r\n            }\r\n            return items.map(function (item) { return ({\r\n                name: item.name,\r\n                detail: '',\r\n                containerName: item.containerName,\r\n                kind: toSymbolKind(item.kind),\r\n                tags: [],\r\n                range: toRange(item.location.range),\r\n                selectionRange: toRange(item.location.range)\r\n            }); });\r\n        });\r\n    };\r\n    return DocumentSymbolAdapter;\r\n}());\r\nexport { DocumentSymbolAdapter };\r\nvar DocumentColorAdapter = /** @class */ (function () {\r\n    function DocumentColorAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentColorAdapter.prototype.provideDocumentColors = function (model, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource)\r\n            .then(function (worker) { return worker.findDocumentColors(resource.toString()); })\r\n            .then(function (infos) {\r\n            if (!infos) {\r\n                return;\r\n            }\r\n            return infos.map(function (item) { return ({\r\n                color: item.color,\r\n                range: toRange(item.range)\r\n            }); });\r\n        });\r\n    };\r\n    DocumentColorAdapter.prototype.provideColorPresentations = function (model, info, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource)\r\n            .then(function (worker) {\r\n            return worker.getColorPresentations(resource.toString(), info.color, fromRange(info.range));\r\n        })\r\n            .then(function (presentations) {\r\n            if (!presentations) {\r\n                return;\r\n            }\r\n            return presentations.map(function (presentation) {\r\n                var item = {\r\n                    label: presentation.label\r\n                };\r\n                if (presentation.textEdit) {\r\n                    item.textEdit = toTextEdit(presentation.textEdit);\r\n                }\r\n                if (presentation.additionalTextEdits) {\r\n                    item.additionalTextEdits = presentation.additionalTextEdits.map(toTextEdit);\r\n                }\r\n                return item;\r\n            });\r\n        });\r\n    };\r\n    return DocumentColorAdapter;\r\n}());\r\nexport { DocumentColorAdapter };\r\nvar FoldingRangeAdapter = /** @class */ (function () {\r\n    function FoldingRangeAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    FoldingRangeAdapter.prototype.provideFoldingRanges = function (model, context, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource)\r\n            .then(function (worker) { return worker.getFoldingRanges(resource.toString(), context); })\r\n            .then(function (ranges) {\r\n            if (!ranges) {\r\n                return;\r\n            }\r\n            return ranges.map(function (range) {\r\n                var result = {\r\n                    start: range.startLine + 1,\r\n                    end: range.endLine + 1\r\n                };\r\n                if (typeof range.kind !== 'undefined') {\r\n                    result.kind = toFoldingRangeKind(range.kind);\r\n                }\r\n                return result;\r\n            });\r\n        });\r\n    };\r\n    return FoldingRangeAdapter;\r\n}());\r\nexport { FoldingRangeAdapter };\r\nfunction toFoldingRangeKind(kind) {\r\n    switch (kind) {\r\n        case cssService.FoldingRangeKind.Comment:\r\n            return languages.FoldingRangeKind.Comment;\r\n        case cssService.FoldingRangeKind.Imports:\r\n            return languages.FoldingRangeKind.Imports;\r\n        case cssService.FoldingRangeKind.Region:\r\n            return languages.FoldingRangeKind.Region;\r\n    }\r\n}\r\nvar SelectionRangeAdapter = /** @class */ (function () {\r\n    function SelectionRangeAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    SelectionRangeAdapter.prototype.provideSelectionRanges = function (model, positions, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource)\r\n            .then(function (worker) { return worker.getSelectionRanges(resource.toString(), positions.map(fromPosition)); })\r\n            .then(function (selectionRanges) {\r\n            if (!selectionRanges) {\r\n                return;\r\n            }\r\n            return selectionRanges.map(function (selectionRange) {\r\n                var result = [];\r\n                while (selectionRange) {\r\n                    result.push({ range: toRange(selectionRange.range) });\r\n                    selectionRange = selectionRange.parent;\r\n                }\r\n                return result;\r\n            });\r\n        });\r\n    };\r\n    return SelectionRangeAdapter;\r\n}());\r\nexport { SelectionRangeAdapter };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { WorkerManager } from './workerManager.js';\r\nimport * as languageFeatures from './languageFeatures.js';\r\nimport { languages } from './fillers/monaco-editor-core.js';\r\nexport function setupMode(defaults) {\r\n    var disposables = [];\r\n    var providers = [];\r\n    var client = new WorkerManager(defaults);\r\n    disposables.push(client);\r\n    var worker = function () {\r\n        var uris = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            uris[_i] = arguments[_i];\r\n        }\r\n        return client.getLanguageServiceWorker.apply(client, uris);\r\n    };\r\n    function registerProviders() {\r\n        var languageId = defaults.languageId, modeConfiguration = defaults.modeConfiguration;\r\n        disposeAll(providers);\r\n        if (modeConfiguration.completionItems) {\r\n            providers.push(languages.registerCompletionItemProvider(languageId, new languageFeatures.CompletionAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.hovers) {\r\n            providers.push(languages.registerHoverProvider(languageId, new languageFeatures.HoverAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.documentHighlights) {\r\n            providers.push(languages.registerDocumentHighlightProvider(languageId, new languageFeatures.DocumentHighlightAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.definitions) {\r\n            providers.push(languages.registerDefinitionProvider(languageId, new languageFeatures.DefinitionAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.references) {\r\n            providers.push(languages.registerReferenceProvider(languageId, new languageFeatures.ReferenceAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.documentSymbols) {\r\n            providers.push(languages.registerDocumentSymbolProvider(languageId, new languageFeatures.DocumentSymbolAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.rename) {\r\n            providers.push(languages.registerRenameProvider(languageId, new languageFeatures.RenameAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.colors) {\r\n            providers.push(languages.registerColorProvider(languageId, new languageFeatures.DocumentColorAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.foldingRanges) {\r\n            providers.push(languages.registerFoldingRangeProvider(languageId, new languageFeatures.FoldingRangeAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.diagnostics) {\r\n            providers.push(new languageFeatures.DiagnosticsAdapter(languageId, worker, defaults));\r\n        }\r\n        if (modeConfiguration.selectionRanges) {\r\n            providers.push(languages.registerSelectionRangeProvider(languageId, new languageFeatures.SelectionRangeAdapter(worker)));\r\n        }\r\n    }\r\n    registerProviders();\r\n    disposables.push(asDisposable(providers));\r\n    return asDisposable(disposables);\r\n}\r\nfunction asDisposable(disposables) {\r\n    return { dispose: function () { return disposeAll(disposables); } };\r\n}\r\nfunction disposeAll(disposables) {\r\n    while (disposables.length) {\r\n        disposables.pop().dispose();\r\n    }\r\n}\r\n"],"names":["WorkerManager","defaults","_this","this","_defaults","_worker","_idleCheckInterval","window","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","prototype","dispose","_client","Date","now","_getClient","editor","createWebWorker","moduleId","label","languageId","createData","languageSettings","diagnosticsOptions","getProxy","getLanguageServiceWorker","resources","_i","arguments","length","then","client","_","withSyncedResources","WorkerManager2","DiagnosticsAdapter","_languageId","_disposables","_listener","Object","create","onModelAdd","model","handle","modeId","getModeId","uri","toString","onDidChangeContent","clearTimeout","setTimeout","_doValidate","onModelRemoved","setModelMarkers","uriStr","listener","push","onDidCreateModel","onWillDisposeModel","onDidChangeModelLanguage","event","getModels","forEach","key","d","resource","worker","doValidation","diagnostics","markers","map","code","diag","String","severity","toSeverity","startLineNumber","range","start","line","startColumn","character","endLineNumber","end","endColumn","message","source","getModel","err","error","DiagnosticsAdapter2","lsSeverity","cssService.DiagnosticSeverity","Error","MarkerSeverity","Warning","Information","Info","Hint","position","column","lineNumber","Range","kind","mItemKind","languages","CompletionItemKind","cssService.CompletionItemKind","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","Color","File","Reference","textEdit","toRange","text","newText","CompletionAdapter","defineProperty","CompletionAdapter2","get","enumerable","configurable","provideCompletionItems","context","token","doComplete","fromPosition","info","wordInfo","getWordUntilPosition","wordRange","items","entry","edit","item","insertText","sortText","filterText","documentation","detail","toCompletionItemKind","insert","replace","additionalTextEdits","toTextEdit","insertTextFormat","cssService.InsertTextFormat","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","isIncomplete","suggestions","value","thing","language","contents","Array","isArray","toMarkdownString","HoverAdapter","provideHover","doHover","toMarkedStringArray","HoverAdapter2","cssService.DocumentHighlightKind","Read","DocumentHighlightKind","Write","DocumentHighlightAdapter","provideDocumentHighlights","findDocumentHighlights","entries","toDocumentHighlightKind","DocumentHighlightAdapter2","location","Uri","parse","DefinitionAdapter","provideDefinition","findDefinition","definition","toLocation","DefinitionAdapter2","ReferenceAdapter","provideReferences","findReferences","ReferenceAdapter2","RenameAdapter","provideRenameEdits","newName","doRename","changes","resourceEdits","_uri","_a","e","edits","toWorkspaceEdit","RenameAdapter2","mKind","SymbolKind","cssService.SymbolKind","Namespace","Package","Constant","Number","Boolean","DocumentSymbolAdapter","provideDocumentSymbols","findDocumentSymbols","name","containerName","toSymbolKind","tags","selectionRange","DocumentSymbolAdapter2","DocumentColorAdapter","provideDocumentColors","findDocumentColors","infos","color","provideColorPresentations","getColorPresentations","fromRange","presentations","presentation","DocumentColorAdapter2","FoldingRangeAdapter","provideFoldingRanges","getFoldingRanges","ranges","result","startLine","endLine","cssService.FoldingRangeKind","Comment","FoldingRangeKind","Imports","Region","toFoldingRangeKind","FoldingRangeAdapter2","SelectionRangeAdapter","provideSelectionRanges","positions","getSelectionRanges","selectionRanges","parent","SelectionRangeAdapter2","disposables","providers","modeConfiguration","uris","apply","completionItems","registerCompletionItemProvider","languageFeatures.CompletionAdapter","hovers","registerHoverProvider","languageFeatures.HoverAdapter","documentHighlights","registerDocumentHighlightProvider","languageFeatures.DocumentHighlightAdapter","definitions","registerDefinitionProvider","languageFeatures.DefinitionAdapter","references","registerReferenceProvider","languageFeatures.ReferenceAdapter","documentSymbols","registerDocumentSymbolProvider","languageFeatures.DocumentSymbolAdapter","rename","registerRenameProvider","languageFeatures.RenameAdapter","colors","registerColorProvider","languageFeatures.DocumentColorAdapter","foldingRanges","registerFoldingRangeProvider","languageFeatures.FoldingRangeAdapter","languageFeatures.DiagnosticsAdapter","registerSelectionRangeProvider","languageFeatures.SelectionRangeAdapter","asDisposable","disposeAll","pop"],"mappings":"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"}