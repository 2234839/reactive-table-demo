{"version":3,"file":"index.b30e9f70.js","sources":["../../src/components/location/_index.ts?vue&type=script&src&lang.ts"],"sourcesContent":["import { defineComponent, ref, reactive, watchEffect, computed } from \"vue\";\r\nimport { usePromiseComputed } from \"../promise-loading/lib/vue.composition.api\";\r\n\r\nexport default defineComponent({\r\n  setup(props, ctx) {\r\n    const position = usePromiseComputed({\r\n      getter: () => getCurrentPosition(),\r\n    });\r\n\r\n    const 高德URL = computed(() => {\r\n      const coords = position.value.data?.[0]?.coords;\r\n      return `https://uri.amap.com/marker?position=${coords?.longitude},${coords?.latitude}`;\r\n    });\r\n    return { position, 高德URL };\r\n  },\r\n});\r\n\r\nfunction getCurrentPosition() {\r\n  return new Promise<\r\n    [GeolocationPosition, undefined] | [undefined, GeolocationPositionError]\r\n  >((resolve, reject) => {\r\n    navigator.geolocation.getCurrentPosition(\r\n      function (position) {\r\n        resolve([position, undefined]);\r\n      },\r\n      function (e) {\r\n        resolve([undefined, e]);\r\n      },\r\n    );\r\n  });\r\n}\r\n"],"names":["defineComponent","[object Object]","props","ctx","position","usePromiseComputed","getter","Promise","resolve","reject","geolocation","getCurrentPosition","e","高德URL","computed","coords","value","data","longitude","latitude"],"mappings":"8HAGA,MAAeA,EAAgB,CAC7BC,MAAMC,EAAOC,SACLC,EAAWC,EAAmB,CAClCC,OAAQ,IAYL,IAAIC,SAET,CAACC,EAASC,eACAC,YAAYC,oBACpB,SAAUP,KACA,CAACA,OAAU,OAErB,SAAUQ,KACA,MAAC,EAAWA,YAjBlBC,EAAQC,GAAS,mBACfC,EAAS,SAAA,WAASC,MAAMC,eAAO,aAAIF,aAClC,8CAAwCA,WAAQG,mBAAaH,WAAQI,oBAEvE,CAAEf,SAAAA,EAAUS,QAAAA"}