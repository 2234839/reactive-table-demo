{"version":3,"file":"promise-loading.84940354.js","sources":["../../src/components/promise-loading/_promise-loading.ts?vue&type=script&src&lang.ts"],"sourcesContent":["import { defineComponent, ref } from \"vue\";\r\nimport { usePromiseComputed } from \"./lib/vue.composition.api\";\r\n\r\nexport default defineComponent({\r\n  setup(props, ctx) {\r\n    const searchText = ref(\"\");\r\n\r\n    const searchResults = usePromiseComputed({\r\n      defaultData: [] as string[],\r\n      getter() {\r\n        return searchApi(searchText.value);\r\n      },\r\n    });\r\n\r\n    return { searchText, searchResults };\r\n  },\r\n});\r\n\r\nfunction searchApi(searchText: string) {\r\n  return new Promise<string[]>((s, j) => {\r\n    setTimeout(() => {\r\n      if (Math.random() < 0.5) {\r\n        s([`[查询成功] ： 搜索的字符串 「${searchText}」`]);\r\n      } else {\r\n        j([`[查询失败] ： 搜索的字符串 「${searchText}」`]);\r\n      }\r\n    }, 1000);\r\n  });\r\n}\r\n"],"names":["defineComponent","[object Object]","props","ctx","searchText","ref","searchResults","usePromiseComputed","defaultData","getter","Promise","s","j","Math","random","searchApi","value"],"mappings":"oKAGA,MAAeA,EAAgB,CAC7BC,MAAMC,EAAOC,SACLC,EAAaC,EAAI,IAEjBC,EAAgBC,EAAmB,CACvCC,YAAa,GACbC,WASN,SAAmBL,UACV,IAAIM,SAAkB,CAACC,EAAGC,iBACpB,KACLC,KAAKC,SAAW,KAChB,CAAC,oBAAoBV,SAErB,CAAC,oBAAoBA,SAExB,QAhBQW,CAAUX,EAAWY,eAIzB,CAAEZ,WAAAA,EAAYE,cAAAA"}